(function(f,c){var b=f.customize;b&&(b.Youxi=b.Youxi||{},b.Youxi.GoogleFontControl=b.Control.extend({createOption:function(a){return c(document.createElement("option")).attr("value",a).text(a)},createCheckbox:function(a){return c(document.createElement("label")).html('<input type="checkbox" value="'+a+'">'+a+"<br>")},getValue:function(){var a=[],b=this.familyDropdown.val(),c=this.variantDropdown.val(),e=this.subsetsContainer.find(":checkbox:checked").map(function(){return this.value}).get();return b?(a.push(b),c&&a.push(c),a.join(":")+(e.length?"&subset="+e.join(","):"")):""},updateVariants:function(a){var d;this.variantDropdown.children().first().nextAll().remove();a&&(d=b.Youxi.GoogleFontControl.Fonts[a])?this.variantDropdown.append(c.map(d.variants||[],this.createOption)).prop("disabled",!1).show():this.variantDropdown.prop("disabled",!0).hide()},updateSubsets:function(a){var d;this.subsetsContainer.empty();a&&(d=b.Youxi.GoogleFontControl.Fonts[a])?this.subsetsContainer.html(c.map(d.subsets||[],this.createCheckbox)).show():this.subsetsContainer.hide()},ready:function(){var a=this;this.familyDropdown=c(".youxi-google-font-family",this.container);this.variantDropdown=c(".youxi-google-font-variant",this.container);this.subsetsContainer=c(".youxi-google-font-subsets",this.container);this.dropdowns=this.familyDropdown.add(this.variantDropdown);this.familyDropdown.on("change",function(){a.currentFamily!=this.value&&(a.currentFamily=this.value,a.updateVariants(this.value),a.updateSubsets(this.value))});this.dropdowns.on("change",function(){a.setting.set(a.getValue())});this.subsetsContainer.on("change",":checkbox",function(){a.setting.set(a.getValue())})}},{Fonts:_youxiCustomizeGoogleFonts||{}}),c.extend(b.controlConstructor,{youxi_google_font:b.Youxi.GoogleFontControl}))})(window.wp,jQuery);